```
Ran 1 test for tests/security/Reentrancy.t.sol:ReentrancyTest
[PASS] test_TC23_ReentrancyOnUnstake() (gas: 645175)
Suite result: ok. 1 passed; 0 failed; 0 skipped; finished in 101.53ms (59.45ms CPU time)

Ran 11 tests for tests/integration/VaultStorageIntegration.t.sol:VaultStorageIntegrationTest
[PASS] test_ComplexStakeAndUnstakeLifecycle() (gas: 1077245)
[PASS] test_MultipleUsersIntegration() (gas: 702159)
[PASS] test_TC15_HistoricalDataConsistency() (gas: 882690)
[PASS] test_TC24_UnauthorizedStorageAccess() (gas: 397011)
[PASS] test_TC25_CheckpointCreationOnBalanceChange() (gas: 388311)
[PASS] test_TC27_CrossContractStateConsistency() (gas: 700867)
[PASS] test_TC27_VaultStorageCoordination() (gas: 594775)
[PASS] test_TC32_EventParameterVerification() (gas: 389498)
[PASS] test_TC3_TC19_ErrorHandlingIntegration() (gas: 457329)
[PASS] test_TC42_CrossContractEventCoordination() (gas: 484171)
[PASS] test_TC6_StakeFromClaimContract() (gas: 361656)
Suite result: ok. 11 passed; 0 failed; 0 skipped; finished in 260.71ms (291.89ms CPU time)

Ran 7 tests for tests/integration/TokenIntegration.t.sol:TokenIntegrationTest
[PASS] test_TC28_AllowanceChecks() (gas: 641998)
[PASS] test_TC28_BalanceValidation() (gas: 434154)
[PASS] test_TC28_ClaimContractTokenHandling() (gas: 533905)
[PASS] test_TC28_EmergencyTokenRecovery() (gas: 37274)
[PASS] test_TC28_SafeERC20Usage() (gas: 517697)
[PASS] test_TC28_TokenIntegration() (gas: 577200)
[PASS] test_TC28_TokenRelatedErrors() (gas: 429414)
Suite result: ok. 7 passed; 0 failed; 0 skipped; finished in 265.50ms (272.38ms CPU time)

Ran 26 tests for tests/unit/StakingVault.t.sol:StakingVaultTest
[PASS] test_TC10_FailedPauseUnauthorized() (gas: 34762)
[PASS] test_TC11_EmergencyTokenRecovery() (gas: 37668)
[PASS] test_TC12_EmergencyRecoverRole() (gas: 1012509)
[PASS] test_TC12_RoleManagement() (gas: 95456)
[PASS] test_TC1_SuccessfulDirectStake() (gas: 408872)
[PASS] test_TC20_FailedUnstakeAlreadyUnstaked() (gas: 512673)
[PASS] test_TC22_PausedSystemOperations() (gas: 557096)
[PASS] test_TC23_ReentrancyProtection() (gas: 475528)
[PASS] test_TC24_AccessControlEnforcement() (gas: 70379)
[PASS] test_TC28_TokenIntegration() (gas: 584800)
[PASS] test_TC29_TimeLockBoundary_ExactExpiry() (gas: 475498)
[PASS] test_TC29_TimeLockBoundary_ZeroLock() (gas: 439705)
[PASS] test_TC2_SuccessfulUnstaking() (gas: 494012)
[PASS] test_TC30_LargeNumber_MaxAmount() (gas: 515086)
[PASS] test_TC34_StakingStorageDirectFunctions() (gas: 399845)
[PASS] test_TC35_StakeIdGenerationValidation() (gas: 558212)
[PASS] test_TC36_DayCalculationEdgeCases() (gas: 513690)
[PASS] test_TC3_FailedUnstakingStakeNotMatured() (gas: 426482)
[PASS] test_TC42_CrossContractEventCoordination() (gas: 484038)
[PASS] test_TC43_GasLimitEdgeCases() (gas: 1905936)
[PASS] test_TC4_FailedStakingInsufficientBalance() (gas: 57105)
[PASS] test_TC5_FailedStakingZeroAmount() (gas: 41005)
[PASS] test_TC6_StakeFromClaimContract() (gas: 362315)
[PASS] test_TC7_FailedClaimStakeUnauthorized() (gas: 41122)
[PASS] test_TC8_PauseSystem() (gas: 59024)
[PASS] test_TC9_UnpauseSystem() (gas: 79946)
Suite result: ok. 26 passed; 0 failed; 0 skipped; finished in 271.32ms (834.42ms CPU time)

Ran 23 tests for tests/unit/StakingStorage.t.sol:StakingStorageTest
[PASS] test_IsActiveStake() (gas: 481841)
[PASS] test_StakeAlreadyExists() (gas: 370220)
[PASS] test_StakeAlreadyUnstaked() (gas: 506767)
[PASS] test_StakeNotFound() (gas: 15483)
[PASS] test_TC13_GetStakeInformation() (gas: 390575)
[PASS] test_TC14_GetStakerInformation() (gas: 558931)
[PASS] test_TC15_HistoricalBalanceQueries() (gas: 882250)
[PASS] test_TC16_BatchHistoricalQueries() (gas: 1012016)
[PASS] test_TC17_GlobalStatistics() (gas: 697957)
[PASS] test_TC18_StakerEnumeration() (gas: 1013899)
[PASS] test_TC25_CheckpointSystemIntegrity() (gas: 875303)
[PASS] test_TC26_GlobalStatisticsAccuracy() (gas: 998376)
[PASS] test_TC37_BinarySearch_EmptyCheckpoints() (gas: 13790)
[PASS] test_TC37_BinarySearch_SingleCheckpoint() (gas: 420266)
[PASS] test_TC38_StakerRegistrationSystem() (gas: 876031)
[PASS] test_TC39_CheckpointSystemInternalLogic() (gas: 1096552)
[PASS] test_TC40_DailySnapshotAccuracy() (gas: 810924)
[PASS] test_TC41_CreateStake_ZeroAddressStaker() (gas: 322184)
[PASS] test_TC44_DurationBasedStakeQueries() (gas: 889727)
[PASS] test_TC45_PointInTimeStakeQueries() (gas: 1012701)
[PASS] test_TC46_BatchStakeInformationQueries() (gas: 753827)
[PASS] test_TC47_TemporalQueryEdgeCases() (gas: 819012)
[PASS] test_TC48_CounterBasedEnumerationValidation() (gas: 881543)
Suite result: ok. 23 passed; 0 failed; 0 skipped; finished in 271.39ms (597.16ms CPU time)

╭------------------------------------------------+-----------------+--------+--------+--------+---------╮
| src/StakingStorage.sol:StakingStorage Contract |                 |        |        |        |         |
+=======================================================================================================+
| Deployment Cost                                | Deployment Size |        |        |        |         |
|------------------------------------------------+-----------------+--------+--------+--------+---------|
| 2259744                                        | 10418           |        |        |        |         |
|------------------------------------------------+-----------------+--------+--------+--------+---------|
|                                                |                 |        |        |        |         |
|------------------------------------------------+-----------------+--------+--------+--------+---------|
| Function Name                                  | Min             | Avg    | Median | Max    | # Calls |
|------------------------------------------------+-----------------+--------+--------+--------+---------|
| CONTROLLER_ROLE                                | 240             | 240    | 240    | 240    | 68      |
|------------------------------------------------+-----------------+--------+--------+--------+---------|
| batchGetStakeInfo                              | 4386            | 6956   | 6956   | 9526   | 2       |
|------------------------------------------------+-----------------+--------+--------+--------+---------|
| batchGetStakerBalances                         | 5458            | 5458   | 5458   | 5458   | 1       |
|------------------------------------------------+-----------------+--------+--------+--------+---------|
| createStake                                    | 24926           | 133946 | 27600  | 328368 | 11      |
|------------------------------------------------+-----------------+--------+--------+--------+---------|
| getActiveStakesOnDay                           | 4060            | 4304   | 4317   | 4535   | 6       |
|------------------------------------------------+-----------------+--------+--------+--------+---------|
| getCurrentTotalStaked                          | 431             | 431    | 431    | 431    | 11      |
|------------------------------------------------+-----------------+--------+--------+--------+---------|
| getDailySnapshot                               | 811             | 811    | 811    | 811    | 8       |
|------------------------------------------------+-----------------+--------+--------+--------+---------|
| getStake                                       | 1357            | 2783   | 3357   | 3357   | 39      |
|------------------------------------------------+-----------------+--------+--------+--------+---------|
| getStakerBalance                               | 1642            | 1642   | 1642   | 1642   | 2       |
|------------------------------------------------+-----------------+--------+--------+--------+---------|
| getStakerBalanceAt                             | 1555            | 2508   | 2141   | 5515   | 17      |
|------------------------------------------------+-----------------+--------+--------+--------+---------|
| getStakerInfo                                  | 1032            | 2768   | 3032   | 3032   | 114     |
|------------------------------------------------+-----------------+--------+--------+--------+---------|
| getStakersPaginated                            | 575             | 1783   | 1741   | 2436   | 5       |
|------------------------------------------------+-----------------+--------+--------+--------+---------|
| getStakesByDurationOnDay                       | 4453            | 4453   | 4453   | 4453   | 1       |
|------------------------------------------------+-----------------+--------+--------+--------+---------|
| getStakesByDurationRange                       | 4546            | 4546   | 4546   | 4546   | 1       |
|------------------------------------------------+-----------------+--------+--------+--------+---------|
| getStakesExceedingDuration                     | 2340            | 4124   | 4440   | 4790   | 8       |
|------------------------------------------------+-----------------+--------+--------+--------+---------|
| getTotalStakersCount                           | 411             | 411    | 411    | 411    | 6       |
|------------------------------------------------+-----------------+--------+--------+--------+---------|
| grantRole                                      | 51485           | 51485  | 51485  | 51485  | 68      |
|------------------------------------------------+-----------------+--------+--------+--------+---------|
| isActiveStake                                  | 1031            | 1031   | 1031   | 1031   | 2       |
|------------------------------------------------+-----------------+--------+--------+--------+---------|
| removeStake                                    | 27017           | 27017  | 27017  | 27017  | 1       |
╰------------------------------------------------+-----------------+--------+--------+--------+---------╯

╭--------------------------------------------+-----------------+--------+--------+--------+---------╮
| src/StakingVault.sol:StakingVault Contract |                 |        |        |        |         |
+===================================================================================================+
| Deployment Cost                            | Deployment Size |        |        |        |         |
|--------------------------------------------+-----------------+--------+--------+--------+---------|
| 1193804                                    | 5383            |        |        |        |         |
|--------------------------------------------+-----------------+--------+--------+--------+---------|
|                                            |                 |        |        |        |         |
|--------------------------------------------+-----------------+--------+--------+--------+---------|
| Function Name                              | Min             | Avg    | Median | Max    | # Calls |
|--------------------------------------------+-----------------+--------+--------+--------+---------|
| CLAIM_CONTRACT_ROLE                        | 216             | 216    | 216    | 216    | 45      |
|--------------------------------------------+-----------------+--------+--------+--------+---------|
| DEFAULT_ADMIN_ROLE                         | 238             | 238    | 238    | 238    | 1       |
|--------------------------------------------+-----------------+--------+--------+--------+---------|
| MANAGER_ROLE                               | 260             | 260    | 260    | 260    | 5       |
|--------------------------------------------+-----------------+--------+--------+--------+---------|
| MULTISIG_ROLE                              | 238             | 238    | 238    | 238    | 6       |
|--------------------------------------------+-----------------+--------+--------+--------+---------|
| emergencyRecover                           | 24437           | 29408  | 24449  | 59068  | 7       |
|--------------------------------------------+-----------------+--------+--------+--------+---------|
| grantRole                                  | 29072           | 50814  | 51261  | 51489  | 49      |
|--------------------------------------------+-----------------+--------+--------+--------+---------|
| hasRole                                    | 760             | 760    | 760    | 760    | 2       |
|--------------------------------------------+-----------------+--------+--------+--------+---------|
| pause                                      | 23764           | 42408  | 47070  | 47070  | 5       |
|--------------------------------------------+-----------------+--------+--------+--------+---------|
| paused                                     | 337             | 337    | 337    | 337    | 2       |
|--------------------------------------------+-----------------+--------+--------+--------+---------|
| revokeRole                                 | 29324           | 29339  | 29324  | 29370  | 3       |
|--------------------------------------------+-----------------+--------+--------+--------+---------|
| stake                                      | 24071           | 274146 | 307314 | 395614 | 104     |
|--------------------------------------------+-----------------+--------+--------+--------+---------|
| stakeFromClaim                             | 26963           | 262142 | 340460 | 340688 | 4       |
|--------------------------------------------+-----------------+--------+--------+--------+---------|
| unpause                                    | 25081           | 25081  | 25081  | 25081  | 2       |
|--------------------------------------------+-----------------+--------+--------+--------+---------|
| unstake                                    | 24032           | 93176  | 103217 | 132729 | 28      |
╰--------------------------------------------+-----------------+--------+--------+--------+---------╯

╭------------------------------------------------+-----------------+-------+--------+-------+---------╮
| tests/helpers/MockERC20.sol:MockERC20 Contract |                 |       |        |       |         |
+=====================================================================================================+
| Deployment Cost                                | Deployment Size |       |        |       |         |
|------------------------------------------------+-----------------+-------+--------+-------+---------|
| 532838                                         | 2818            |       |        |       |         |
|------------------------------------------------+-----------------+-------+--------+-------+---------|
|                                                |                 |       |        |       |         |
|------------------------------------------------+-----------------+-------+--------+-------+---------|
| Function Name                                  | Min             | Avg   | Median | Max   | # Calls |
|------------------------------------------------+-----------------+-------+--------+-------+---------|
| approve                                        | 24394           | 45760 | 46678  | 46678 | 133     |
|------------------------------------------------+-----------------+-------+--------+-------+---------|
| balanceOf                                      | 559             | 1130  | 559    | 2559  | 21      |
|------------------------------------------------+-----------------+-------+--------+-------+---------|
| mint                                           | 34335           | 57897 | 51111  | 68439 | 170     |
|------------------------------------------------+-----------------+-------+--------+-------+---------|
| transfer                                       | 34547           | 34547 | 34547  | 34547 | 1       |
╰------------------------------------------------+-----------------+-------+--------+-------+---------╯

╭---------------------------------------------------------+-----------------+-------+--------+-------+---------╮
| tests/security/Reentrancy.t.sol:MaliciousToken Contract |                 |       |        |       |         |
+==============================================================================================================+
| Deployment Cost                                         | Deployment Size |       |        |       |         |
|---------------------------------------------------------+-----------------+-------+--------+-------+---------|
| 657957                                                  | 3399            |       |        |       |         |
|---------------------------------------------------------+-----------------+-------+--------+-------+---------|
|                                                         |                 |       |        |       |         |
|---------------------------------------------------------+-----------------+-------+--------+-------+---------|
| Function Name                                           | Min             | Avg   | Median | Max   | # Calls |
|---------------------------------------------------------+-----------------+-------+--------+-------+---------|
| approve                                                 | 46401           | 46401 | 46401  | 46401 | 1       |
|---------------------------------------------------------+-----------------+-------+--------+-------+---------|
| mint                                                    | 68234           | 68234 | 68234  | 68234 | 1       |
|---------------------------------------------------------+-----------------+-------+--------+-------+---------|
| setAttackStep                                           | 26611           | 35161 | 35161  | 43711 | 2       |
|---------------------------------------------------------+-----------------+-------+--------+-------+---------|
| setStakeId                                              | 43909           | 43909 | 43909  | 43909 | 1       |
|---------------------------------------------------------+-----------------+-------+--------+-------+---------|
| setVault                                                | 43934           | 43934 | 43934  | 43934 | 1       |
╰---------------------------------------------------------+-----------------+-------+--------+-------+---------╯


Ran 5 test suites in 279.92ms (1.17s CPU time): 68 tests passed, 0 failed, 0 skipped (68 total tests)
```
